<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ares Kombat. Return</title>
<style>
  body, html {
    margin: 0;
    padding: 0;
    font-family: Arial, sans-serif;
    background: #1a1a1a;
    color: #fff;
    height: 100%;
    overflow: hidden;
  }

  .header {
    text-align: center;
    padding: 15px 0 5px 0;
  }

  .game-title {
    font-size: 36px;
    font-weight: bold;
    color: #ffffff;
    margin: 0;
  }

  .game-subtitle {
    font-size: 32px;
    font-weight: bold;
    color: #ffffff;
    margin: 0;
  }

  .content {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    height: calc(100% - 120px);
    padding: 10px;
    text-align: center;
  }

  .section-title {
    font-size: 28px;
    font-weight: bold;
    color: #ffffff;
    margin-bottom: 10px;
  }

  .score-display {
    font-size: 36px;
    font-weight: bold;
    margin-bottom: 30px;
    color: #ffffff;
  }

  .bottom-menu {
    position: fixed;
    bottom: 20px;
    left: 0;
    width: 100%;
    display: flex;
    justify-content: space-around;
    background: #111;
    padding: 10px 0;
    z-index: 10;
  }

  .bottom-menu button {
    background: #333;
    border: none;
    padding: 10px 20px;
    color: #fff;
    font-size: 16px;
    border-radius: 10px;
    cursor: pointer;
  }

  .bottom-menu button.active {
    background: #ffcc00;
    color: #000;
    font-weight: bold;
  }

  .hidden {
    display: none;
  }

  .profile div {
    margin: 5px 0;
  }

  .profile button {
    padding: 8px 16px;
    margin: 5px;
    border: none;
    border-radius: 10px;
    background: #555;
    color: #fff;
    font-size: 14px;
    cursor: pointer;
  }

  .button-main {
    font-size: 30px;
    padding: 20px 40px;
    border-radius: 20px;
    background: #444;
    color: #fff;
    border: none;
    margin-top: 10px;
    cursor: pointer;
  }

  .button-main:active {
    background: #666;
  }

  /* –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ */
  .modal {
    position: fixed;
    top:0;
    left:0;
    width: 100%;
    height: 100%;
    background: rgba(0,0,0,0.85);
    display: none;
    justify-content: center;
    align-items: center;
    z-index: 100;
  }

  .modal-content {
    background: #222;
    padding: 20px;
    border-radius: 15px;
    text-align: center;
    width: 90%;
    max-width: 350px;
  }

  .modal-content input {
    width: 80%;
    padding: 10px;
    margin: 10px 0;
    border-radius: 10px;
    border: none;
  }

  .modal-content button {
    padding: 10px 20px;
    border-radius: 10px;
    border: none;
    background: #555;
    color: #fff;
    font-size: 16px;
    margin-top: 10px;
    cursor: pointer;
  }

  .copy-message {
    margin-top: 5px;
    color: #fff;
    font-size: 14px;
  }
</style>
</head>
<body>

<!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
<div class="header">
  <p class="game-title">Ares Kombat</p>
  <p class="game-subtitle">Return</p>
</div>

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ -->
<div id="registerModal" class="modal">
  <div class="modal-content">
    <h2>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h2>
    <p>–£–∫–∞–∂–∏—Ç–µ —Å–≤–æ—ë –∏–º—è –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –º—ã –∑–Ω–∞–ª–∏, –∫–∞–∫ –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ –≤–∞–º.</p>
    <input type="text" id="nameInput" placeholder="–í–≤–µ–¥–∏—Ç–µ –∏–º—è"><br>
    <p>–î–æ–±–∞–≤—å—Ç–µ —é–∑–µ—Ä–Ω–µ–π–º, —á—Ç–æ–±—ã –º—ã —Å–º–æ–≥–ª–∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –≤–∞–º –≤–∞—à –≤—ã–∏–≥—Ä—ã—à –ø–æ –æ–∫–æ–Ω—á–∞–Ω–∏—é –∏–≥—Ä—ã.</p>
    <input type="text" id="usernameInput" placeholder="–í–≤–µ–¥–∏—Ç–µ —é–∑–µ—Ä–Ω–µ–π–º (Telegram)"><br>
    <button id="registerBtn">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
  </div>
</div>

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π -->
<div id="messageModal" class="modal">
  <div class="modal-content">
    <p id="messageText"></p>
    <button id="closeMessageBtn">–û–∫</button>
  </div>
</div>

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —É–¥–∞–ª–µ–Ω–∏—è –∞–∫–∫–∞—É–Ω—Ç–∞ -->
<div id="deleteModal" class="modal">
  <div class="modal-content">
    <p>–í—ã –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å –∞–∫–∫–∞—É–Ω—Ç?</p>
    <button id="confirmDeleteBtn">–î–∞</button>
    <button id="cancelDeleteBtn">–ù–µ—Ç</button>
  </div>
</div>

<div class="content">
  <!-- –ö–ª–∏–∫–µ—Ä -->
  <div id="clickerView">
    <div class="section-title">–ö–ª–∏–∫–µ—Ä</div>
    <div class="score-display">üèÜ: <span id="clickerScore">0</span></div>
    <button class="button-main" id="clickerButton">üëä –ù–∞–∂–º–∏!</button>
  </div>

  <!-- –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –∑–∞—Ä–∞–±–æ—Ç–æ–∫ -->
  <div id="classicView" class="hidden">
    <h2>–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –∑–∞—Ä–∞–±–æ—Ç–æ–∫</h2>
    <button class="button-main" id="earnButton">–ó–∞–±—Ä–∞—Ç—å 5000 üèÜ</button>
    <p>–°–ª–µ–¥—É—é—â–∞—è –≤—ã–¥–∞—á–∞ —á–µ—Ä–µ–∑: <span id="earnTimer">0 —á</span></p>
  </div>

  <!-- –ü—Ä–æ—Ñ–∏–ª—å -->
  <div id="profileView" class="hidden profile">
    <div><b>–ò–º—è:</b> <span id="profileName"></span></div>
    <div><b>–Æ–∑–µ—Ä–Ω–µ–π–º:</b> <span id="profileUsername"></span></div>
    <div><b>ID:</b> <span id="profileId"></span></div>
    <div class="copy-message" id="copyMessage" style="display:none;">–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞!</div>
    <hr>
    <div><b>üèÜ:</b> <span id="profileScore">0</span></div>
    <hr>
    <button onclick="openModal('–ú–∞–≥–∞–∑–∏–Ω', '–í –º–∞–≥–∞–∑–∏–Ω–µ –ø–æ–∫–∞ –Ω–µ—Ç —Ç–æ–≤–∞—Ä–æ–≤ :(')">–ú–∞–≥–∞–∑–∏–Ω</button>
    <button onclick="openModal('–ó–∞–¥–∞–Ω–∏—è', '–î–ª—è –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –∑–∞–¥–∞–Ω–∏–π :(')">–ó–∞–¥–∞–Ω–∏—è</button>
    <button onclick="openModal('–ü—Ä–æ–º–æ–∫–æ–¥—ã', '–ú—ã –µ—â—ë –Ω–µ –ø—Ä–∏–¥—É–º–∞–ª–∏ –ø—Ä–æ–º–æ–∫–æ–¥—ã :(')">–ü—Ä–æ–º–æ–∫–æ–¥—ã</button>
    <button id="deleteAccountBtn">–£–¥–∞–ª–∏—Ç—å –∞–∫–∫–∞—É–Ω—Ç</button>
  </div>
</div>

<!-- –ù–∏–∂–Ω–µ–µ –º–µ–Ω—é -->
<div class="bottom-menu">
  <button id="tabClicker" class="active">–ö–ª–∏–∫–µ—Ä</button>
  <button id="tabClassic">–ö–ª–∞—Å—Å–∏–∫–∞</button>
  <button id="tabProfile">–ü—Ä–æ—Ñ–∏–ª—å</button>
</div>

<script>
  function openModal(title, text) {
    const messageModal = document.getElementById("messageModal");
    const messageText = document.getElementById("messageText");
    messageText.textContent = text;
    messageModal.style.display = "flex";
  }

  document.addEventListener("DOMContentLoaded", () => {
    let score = parseInt(localStorage.getItem("score")) || 0;
    let lastEarnTime = parseInt(localStorage.getItem("lastEarnTime")) || 0;
    let name = localStorage.getItem("name");
    let username = localStorage.getItem("username");
    let userId = localStorage.getItem("userId");

    const clickerScore = document.getElementById("clickerScore");
    const profileScore = document.getElementById("profileScore");
    const clickerButton = document.getElementById("clickerButton");
    const earnButton = document.getElementById("earnButton");
    const earnTimer = document.getElementById("earnTimer");

    const clickerView = document.getElementById("clickerView");
    const classicView = document.getElementById("classicView");
    const profileView = document.getElementById("profileView");

    const tabClicker = document.getElementById("tabClicker");
    const tabClassic = document.getElementById("tabClassic");
    const tabProfile = document.getElementById("tabProfile");

    const registerModal = document.getElementById("registerModal");
    const registerBtn = document.getElementById("registerBtn");
    const nameInput = document.getElementById("nameInput");
    const usernameInput = document.getElementById("usernameInput");

    const closeMessageBtn = document.getElementById("closeMessageBtn");

    const deleteAccountBtn = document.getElementById("deleteAccountBtn");
    const deleteModal = document.getElementById("deleteModal");
    const confirmDeleteBtn = document.getElementById("confirmDeleteBtn");
    const cancelDeleteBtn = document.getElementById("cancelDeleteBtn");

    const profileIdSpan = document.getElementById("profileId");
    const copyMessage = document.getElementById("copyMessage");

    function updateScore() {
      clickerScore.textContent = score;
      profileScore.textContent = score;
      localStorage.setItem("score", score);
    }

    clickerButton.addEventListener("click", () => {
      score++;
      updateScore();
    });

    function updateTimer() {
      let now = Date.now();
      let diff = now - lastEarnTime;
      let wait = 8 * 60 * 60 * 1000;
      if (diff >= wait) {
        earnButton.disabled = false;
        earnTimer.textContent = "–¥–æ—Å—Ç—É–ø–Ω–æ!";
      } else {
        earnButton.disabled = true;
        let remain = wait - diff;
        let hours = Math.floor(remain / (1000 * 60 * 60));
        let minutes = Math.floor((remain % (1000 * 60 * 60)) / (1000 * 60));
        earnTimer.textContent = `${hours}—á ${minutes}–º`;
      }
    }

    earnButton.addEventListener("click", () => {
      score += 5000;
      lastEarnTime = Date.now();
      localStorage.setItem("lastEarnTime", lastEarnTime);
      updateScore();
      updateTimer();
    });

    setInterval(updateTimer, 1000);
    updateTimer();

    function showTab(tab) {
      clickerView.classList.add("hidden");
      classicView.classList.add("hidden");
      profileView.classList.add("hidden");
      tabClicker.classList.remove("active");
      tabClassic.classList.remove("active");
      tabProfile.classList.remove("active");

      if (tab === "clicker") {
        clickerView.classList.remove("hidden");
        tabClicker.classList.add("active");
      } else if (tab === "classic") {
        classicView.classList.remove("hidden");
        tabClassic.classList.add("active");
      } else if (tab === "profile") {
        profileView.classList.remove("hidden");
        tabProfile.classList.add("active");
      }
    }

    tabClicker.addEventListener("click", () => showTab("clicker"));
    tabClassic.addEventListener("click", () => showTab("classic"));
    tabProfile.addEventListener("click", () => showTab("profile"));

    if (!name || !username || !userId) {
      registerModal.style.display = "flex";
    } else {
      document.getElementById("profileName").textContent = name;
      document.getElementById("profileUsername").textContent = username;
      profileIdSpan.textContent = userId;
    }

    registerBtn.addEventListener("click", () => {
      let enteredName = nameInput.value.trim();
      let enteredUsername = usernameInput.value.trim();
      if (!enteredName || !enteredUsername) {
        alert("–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è!");
        return;
      }
      name = enteredName;
      username = enteredUsername;
      userId = Math.floor(Math.random() * 1000000);
      localStorage.setItem("name", name);
      localStorage.setItem("username", username);
      localStorage.setItem("userId", userId);
      document.getElementById("profileName").textContent = name;
      document.getElementById("profileUsername").textContent = username;
      profileIdSpan.textContent = userId;
      registerModal.style.display = "none";
    });

    closeMessageBtn.addEventListener("click", () => {
      document.getElementById("messageModal").style.display = "none";
    });

    // –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ ID
    profileIdSpan.addEventListener("click", () => {
      navigator.clipboard.writeText(profileIdSpan.textContent).then(() => {
        copyMessage.style.display = "block";
        setTimeout(() => { copyMessage.style.display = "none"; }, 2000);
      });
    });

    // –£–¥–∞–ª–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞
    deleteAccountBtn.addEventListener("click", () => { deleteModal.style.display = "flex"; });
    cancelDeleteBtn.addEventListener("click", () => { deleteModal.style.display = "none"; });
    confirmDeleteBtn.addEventListener("click", () => {
      localStorage.clear();
      location.reload();
    });

    updateScore();
  });
</script>
</body>
    </html>
